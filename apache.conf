<VirtualHost *:80>
    ServerName gestioncompte-api.onrender.com
    DocumentRoot /var/www/html/public

    <Directory "/var/www/html/public">
        Options +FollowSymLinks +Indexes
        AllowOverride All
        Require all granted
        DirectoryIndex index.php

        # Allow CORS for Swagger UI
        Header set Access-Control-Allow-Origin "*"
        Header set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
        Header set Access-Control-Allow-Headers "Content-Type, Authorization"
    </Directory>

    # Additional configuration for Swagger
    Alias /api/documentation /var/www/html/public/docs
    <Directory "/var/www/html/public/docs">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    <FilesMatch \.php$>
        SetHandler application/x-httpd-php
    </FilesMatch>

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>